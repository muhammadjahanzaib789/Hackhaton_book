<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="600" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">Physical AI Architecture: Humanoid Robot System</text>

  <!-- Voice Input Layer -->
  <rect x="50" y="60" width="140" height="60" rx="5" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="120" y="95" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Voice Input</text>
  <text x="120" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">(Whisper STT)</text>

  <!-- LLM Layer -->
  <rect x="220" y="60" width="140" height="60" rx="5" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="290" y="95" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">LLM Planner</text>
  <text x="290" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">(Task Decomposition)</text>

  <!-- ROS 2 Layer -->
  <rect x="50" y="160" width="700" height="100" rx="5" fill="#e8f5e9" stroke="#388e3c" stroke-width="2"/>
  <text x="400" y="180" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">ROS 2 Nervous System</text>

  <!-- ROS 2 Components -->
  <rect x="70" y="195" width="100" height="50" rx="3" fill="#fff" stroke="#388e3c"/>
  <text x="120" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Action Server</text>

  <rect x="190" y="195" width="100" height="50" rx="3" fill="#fff" stroke="#388e3c"/>
  <text x="240" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Navigation</text>

  <rect x="310" y="195" width="100" height="50" rx="3" fill="#fff" stroke="#388e3c"/>
  <text x="360" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Motion Control</text>

  <rect x="430" y="195" width="100" height="50" rx="3" fill="#fff" stroke="#388e3c"/>
  <text x="480" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">State Manager</text>

  <rect x="550" y="195" width="100" height="50" rx="3" fill="#fff" stroke="#388e3c"/>
  <text x="600" y="225" text-anchor="middle" font-family="Arial" font-size="10" fill="#333">Safety Guard</text>

  <!-- Perception Layer -->
  <rect x="450" y="60" width="300" height="60" rx="5" fill="#fff3e0" stroke="#f57c00" stroke-width="2"/>
  <text x="600" y="85" text-anchor="middle" font-family="Arial" font-size="12" fill="#333">Perception (Isaac ROS)</text>
  <text x="600" y="105" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Object Detection | Depth | Segmentation</text>

  <!-- Simulation Layer -->
  <rect x="50" y="290" width="340" height="80" rx="5" fill="#e0f7fa" stroke="#0097a7" stroke-width="2"/>
  <text x="220" y="315" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Digital Twin (Gazebo)</text>
  <text x="220" y="335" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Physics Simulation | Sensor Emulation</text>
  <text x="220" y="355" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">URDF Model | World Environment</text>

  <!-- Hardware Layer -->
  <rect x="410" y="290" width="340" height="80" rx="5" fill="#ffebee" stroke="#c62828" stroke-width="2"/>
  <text x="580" y="315" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Hardware (Real Robot)</text>
  <text x="580" y="335" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">Motors | Sensors | Cameras</text>
  <text x="580" y="355" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">IMU | Force Sensors | Encoders</text>

  <!-- Robot Visualization -->
  <rect x="275" y="400" width="250" height="150" rx="5" fill="#fafafa" stroke="#9e9e9e" stroke-width="2"/>
  <text x="400" y="420" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">Humanoid Robot</text>

  <!-- Simple robot figure -->
  <circle cx="400" cy="455" r="15" fill="#666"/>
  <rect x="385" y="475" width="30" height="40" fill="#666"/>
  <line x1="385" y1="485" x2="365" y2="515" stroke="#666" stroke-width="6"/>
  <line x1="415" y1="485" x2="435" y2="515" stroke="#666" stroke-width="6"/>
  <line x1="393" y1="515" x2="388" y2="545" stroke="#666" stroke-width="6"/>
  <line x1="407" y1="515" x2="412" y2="545" stroke="#666" stroke-width="6"/>

  <!-- Arrows -->
  <line x1="190" y1="90" x2="215" y2="90" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="360" y1="90" x2="445" y2="90" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="290" y1="120" x2="290" y2="155" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="120" x2="600" y2="155" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="220" y1="260" x2="220" y2="285" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="580" y1="260" x2="580" y2="285" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="220" y1="370" x2="310" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="580" y1="370" x2="490" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <rect x="50" y="520" width="700" height="70" rx="5" fill="#fff" stroke="#ccc"/>
  <text x="400" y="540" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">7-Stage VLA Pipeline</text>
  <text x="400" y="560" text-anchor="middle" font-family="Arial" font-size="10" fill="#666">1. Voice → 2. Intent → 3. Decomposition → 4. Planning → 5. Navigation → 6. Perception → 7. Manipulation</text>
  <text x="400" y="580" text-anchor="middle" font-family="Arial" font-size="9" fill="#999">Deterministic (ROS 2, Nav2) | Probabilistic (LLM, Perception) | Physical (Robot Hardware)</text>
</svg>
